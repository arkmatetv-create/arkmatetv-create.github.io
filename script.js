const translations = {
    en: {
        features: "Features",
        installation: "Installation",
        contact: "Contact",
        hero_title: "Rediscover Your<br>TV Experience.",
        hero_desc: "The fastest and most modern IPTV player designed for macOS. Live TV, Movies, Series, and more.",
        download_btn: "Download",
        learn_more: "Learn More",
        features_title: "Why Arkmate TV?",
        features_subtitle: "Premium features tailored for you.",
        feat_1_title: "Live TV & EPG",
        feat_1_desc: "Don't miss a thing with seamless streaming and detailed electronic program guide.",
        feat_2_title: "Movies & Series",
        feat_2_desc: "Enjoy cinema with advanced filtering, favorites, and 'Continue Watching' feature.",
        feat_3_title: "High Performance",
        feat_3_desc: "Zero lag, 4K support thanks to the VLC-based player engine.",
        feat_4_title: "Modern Interface",
        feat_4_desc: "User-friendly, sleek professional design with Blue-White theme.",
        install_title: "Installation Guide",
        install_warning: "⚠️ Important: Permission may be required on first launch as it is not from the App Store.",
        step_1_title: "Download App",
        step_1_desc: "Download the .zip file to your computer.",
        step_2_title: "Unzip Archive",
        step_2_desc: "Open the downloaded file and extract 'Arkmate TV.app'.",
        step_3_title: "Safe Launch",
        step_3_desc: "Right Click on the app and select Open. Click 'Open' again on the warning prompt.",
        contact_title: "Support & Contact",
        contact_desc: "Reach out to us for questions or feedback."
    },
    tr: {
        features: "Özellikler",
        installation: "Kurulum",
        contact: "İletişim",
        hero_title: "Televizyon Deneyimini<br>Yeniden Keşfedin.",
        hero_desc: "macOS için tasarlanmış en hızlı ve modern IPTV oynatıcısı. Canlı TV, Filmler, Diziler ve daha fazlası.",
        download_btn: "İndir",
        learn_more: "Daha Fazla",
        features_title: "Neden Arkmate TV?",
        features_subtitle: "Size özel geliştirilmiş premium özellikler.",
        feat_1_title: "Canlı TV & EPG",
        feat_1_desc: "Kesintisiz yayın akışı ve detaylı elektronik program rehberi ile hiçbir şeyi kaçırmayın.",
        feat_2_title: "Film & Dizi Arşivi",
        feat_2_desc: "Gelişmiş filtreleme, favoriler ve 'İzlemeye Devam Et' özelliği ile sinema keyfi.",
        feat_3_title: "Yüksek Performans",
        feat_3_desc: "VLC tabanlı oynatıcı sayesinde donmadan, takılmadan 4K yayın desteği.",
        feat_4_title: "Modern Arayüz",
        feat_4_desc: "Kullanıcı dostu, Mavi-Beyaz temalı şık ve profesyonel tasarım.",
        install_title: "Kurulum Talimatları",
        install_warning: "⚠️ Önemli: App Store dışından indirildiği için ilk açılışta izin gerekebilir.",
        step_1_title: "Uygulamayı İndirin",
        step_1_desc: ".zip dosyasını bilgisayarınıza indirin.",
        step_2_title: "Arşivden Çıkarın",
        step_2_desc: "İndirdiğiniz dosyayı açarak 'Arkmate TV.app' uygulamasını dışarı çıkartın.",
        step_3_title: "Güvenli Açılış",
        step_3_desc: "Uygulamaya Sağ Tıklayın ve Aç seçeneğini seçin. Çıkan uyarıda tekrar 'Aç' butonuna tıklayın.",
        contact_title: "Destek & İletişim",
        contact_desc: "Sorularınız veya geri bildirimleriniz için bize ulaşın."
    },
    de: {
        features: "Funktionen",
        installation: "Installation",
        contact: "Kontakt",
        hero_title: "Entdecken Sie Ihr<br>TV-Erlebnis neu.",
        hero_desc: "Der schnellste und modernste IPTV-Player für macOS. Live-TV, Filme, Serien und mehr.",
        download_btn: "Herunterladen",
        learn_more: "Mehr erfahren",
        features_title: "Warum Arkmate TV?",
        features_subtitle: "Premium-Funktionen für Sie maßgeschneidert.",
        feat_1_title: "Live TV & EPG",
        feat_1_desc: "Verpassen Sie nichts mit nahtlosem Streaming und detailliertem Programmführer.",
        feat_2_title: "Filme & Serien",
        feat_2_desc: "Genießen Sie Kino mit erweiterten Filtern, Favoriten und 'Weiterschauen'.",
        feat_3_title: "Hohe Leistung",
        feat_3_desc: "Kein Ruckeln, 4K-Unterstützung dank VLC-basierter Engine.",
        feat_4_title: "Moderne Oberfläche",
        feat_4_desc: "Benutzerfreundliches, elegantes professionelles Design im Blau-Weiß-Stil.",
        install_title: "Installationsanleitung",
        install_warning: "⚠️ Wichtig: Beim ersten Start ist möglicherweise eine Erlaubnis erforderlich.",
        step_1_title: "App herunterladen",
        step_1_desc: "Laden Sie die .zip-Datei auf Ihren Computer herunter.",
        step_2_title: "Archiv entpacken",
        step_2_desc: "Öffnen Sie die Datei und extrahieren Sie 'Arkmate TV.app'.",
        step_3_title: "Sicherer Start",
        step_3_desc: "Rechtsklick auf die App und 'Öffnen' wählen. Klicken Sie erneut auf 'Öffnen'.",
        contact_title: "Support & Kontakt",
        contact_desc: "Kontaktieren Sie uns für Fragen oder Feedback."
    },
    fr: {
        features: "Fonctionnalités",
        installation: "Installation",
        contact: "Contact",
        hero_title: "Redécouvrez votre<br>expérience TV.",
        hero_desc: "Le lecteur IPTV le plus rapide et moderne pour macOS. TV en direct, films, séries et plus.",
        download_btn: "Télécharger",
        learn_more: "En savoir plus",
        features_title: "Pourquoi Arkmate TV ?",
        features_subtitle: "Des fonctionnalités premium pour vous.",
        feat_1_title: "TV en direct & EPG",
        feat_1_desc: "Ne manquez rien avec un streaming fluide et un guide détaillé.",
        feat_2_title: "Films & Séries",
        feat_2_desc: "Cinéma avec filtres avancés, favoris et fonction 'Reprendre la lecture'.",
        feat_3_title: "Haute Performance",
        feat_3_desc: "Zéro lag, support 4K grâce au moteur VLC.",
        feat_4_title: "Interface Moderne",
        feat_4_desc: "Design professionnel épuré, thème Bleu-Blanc.",
        install_title: "Guide d'installation",
        install_warning: "⚠️ Important : Une permission peut être requise au premier lancement.",
        step_1_title: "Télécharger l'app",
        step_1_desc: "Téléchargez le fichier .zip sur votre ordinateur.",
        step_2_title: "Dézipper",
        step_2_desc: "Ouvrez le fichier et extrayez 'Arkmate TV.app'.",
        step_3_title: "Lancement Sécurisé",
        step_3_desc: "Faites un clic droit sur l'app et choisissez 'Ouvrir'. Cliquez encore sur 'Ouvrir'.",
        contact_title: "Support & Contact",
        contact_desc: "Contactez-nous pour toute question."
    },
    it: {
        features: "Funzionalità",
        installation: "Installazione",
        contact: "Contatti",
        hero_title: "Riscopri la tua<br>Esperienza TV.",
        hero_desc: "Il lettore IPTV più veloce e moderno per macOS. TV live, film, serie e altro.",
        download_btn: "Scarica",
        learn_more: "Scopri di più",
        features_title: "Perché Arkmate TV?",
        features_subtitle: "Funzionalità premium su misura per te.",
        feat_1_title: "Live TV & EPG",
        feat_1_desc: "Non perdere nulla con streaming fluido e guida programmi dettagliata.",
        feat_2_title: "Film & Serie",
        feat_2_desc: "Goditi il cinema con filtri avanzati, preferiti e 'Continua a guardare'.",
        feat_3_title: "Alte Prestazioni",
        feat_3_desc: "Zero lag, supporto 4K grazie al motore VLC.",
        feat_4_title: "Interfaccia Moderna",
        feat_4_desc: "Design professionale elegante, tema Blu-Bianco.",
        install_title: "Guida all'installazione",
        install_warning: "⚠️ Importante: Potrebbe essere richiesta l'autorizzazione al primo avvio.",
        step_1_title: "Scarica App",
        step_1_desc: "Scarica il file .zip sul tuo computer.",
        step_2_title: "Estrai Archivio",
        step_2_desc: "Apri il file ed estrai 'Arkmate TV.app'.",
        step_3_title: "Avvio Sicuro",
        step_3_desc: "Clicca col tasto destro sull'app e seleziona 'Apri'. Clicca di nuovo su 'Apri'.",
        contact_title: "Supporto & Contatti",
        contact_desc: "Contattaci per domande o feedback."
    },
    pt: {
        features: "Recursos",
        installation: "Instalação",
        contact: "Contato",
        hero_title: "Redescubra sua<br>Experiência de TV.",
        hero_desc: "O reprodutor IPTV mais rápido e moderno para macOS. TV ao vivo, filmes, séries e mais.",
        download_btn: "Baixar",
        learn_more: "Saiba Mais",
        features_title: "Por que Arkmate TV?",
        features_subtitle: "Recursos premium feitos para você.",
        feat_1_title: "TV ao Vivo & EPG",
        feat_1_desc: "Não perca nada com streaming fluido e guia de programação detalhado.",
        feat_2_title: "Filmes & Séries",
        feat_2_desc: "Cinema com filtros avançados, favoritos e função 'Continuar Assistindo'.",
        feat_3_title: "Alta Performance",
        feat_3_desc: "Zero lag, suporte 4K graças ao motor VLC.",
        feat_4_title: "Interface Moderna",
        feat_4_desc: "Design profissional elegante, tema Azul-Branco.",
        install_title: "Guia de Instalação",
        install_warning: "⚠️ Importante: Permissão pode ser necessária na primeira execução.",
        step_1_title: "Baixar App",
        step_1_desc: "Baixe o arquivo .zip para o seu computador.",
        step_2_title: "Extrair Arquivo",
        step_2_desc: "Abra o arquivo e extraia 'Arkmate TV.app'.",
        step_3_title: "Início Seguro",
        step_3_desc: "Clique com botão direito no app e selecione 'Abrir'. Clique em 'Abrir' novamente.",
        contact_title: "Suporte & Contato",
        contact_desc: "Entre em contato para dúvidas ou feedback."
    },
    ar: {
        features: "المميزات",
        installation: "التثبيت",
        contact: "اتصل بنا",
        hero_title: "أعد اكتشاف<br>تجربة التلفزيون.",
        hero_desc: "أسرع وأحدث مشغل IPTV مصمم لنظام macOS. قنوات مباشرة، أفلام، مسلسلات والمزيد.",
        download_btn: "تحميل",
        learn_more: "المزيد",
        features_title: "لماذا Arkmate TV؟",
        features_subtitle: "ميزات متميزة مصممة خصيصًا لك.",
        feat_1_title: "بث مباشر & EPG",
        feat_1_desc: "لا تفوت أي شيء مع بث سلس ودليل برامج مفصل.",
        feat_2_title: "أفلام ومسلسلات",
        feat_2_desc: "استمتع بالسينما مع تصفية متقدمة، مفضلة وميزة 'متابعة المشاهدة'.",
        feat_3_title: "أداء عالي",
        feat_3_desc: "بدون تأخير، دعم 4K بفضل محرك VLC.",
        feat_4_title: "واجهة حديثة",
        feat_4_desc: "تصميم احترافي أنيق وسهل الاستخدام، ثيم أزرق وأبيض.",
        install_title: "دليل التثبيت",
        install_warning: "⚠️ هام: قد يتطلب الإذن عند التشغيل لأول مرة.",
        step_1_title: "تحميل التطبيق",
        step_1_desc: "قم بتنزيل ملف .zip على جهاز الكمبيوتر الخاص بك.",
        step_2_title: "فك الضغط",
        step_2_desc: "افتح الملف واستخرج 'Arkmate TV.app'.",
        step_3_title: "تشغيل آمن",
        step_3_desc: "انقر بزر الماوس الأيمن على التطبيق واختر 'فتح'. انقر على 'فتح' مرة أخرى.",
        contact_title: "الدعم والاتصال",
        contact_desc: "تواصل معنا لأي استفسارات أو تعليقات."
    }
};

// Language Detection & Handling
function detectLanguage() {
    const supported = ['en', 'tr', 'de', 'fr', 'it', 'pt', 'ar'];
    const userLang = navigator.language.slice(0, 2); // e.g. 'en-US' -> 'en'
    return supported.includes(userLang) ? userLang : 'en';
}

let currentLang = detectLanguage();

// Elements
const headerSelect = document.getElementById('header-lang-select');
const footerSelect = document.getElementById('footer-lang-select');

// Set Logic
function setLanguage(lang) {
    if (!translations[lang]) return;
    currentLang = lang;

    // Update Dropdowns
    if (headerSelect) headerSelect.value = lang;
    if (footerSelect) footerSelect.value = lang;

    // RTL Handling for Arabic
    if (lang === 'ar') {
        document.body.setAttribute('dir', 'rtl');
    } else {
        document.body.setAttribute('dir', 'ltr');
    }

    // Update Text
    document.querySelectorAll('[data-i18n]').forEach(el => {
        const key = el.getAttribute('data-i18n');
        if (translations[lang][key]) {
            el.innerHTML = translations[lang][key];
        }
    });

    // Update Hero Image
    const heroImg = document.getElementById('hero-app-img');
    if (heroImg) {
        heroImg.src = `images/hero_${lang}.png`;
    }

    // Save preference (optional, good UX)
    localStorage.setItem('arkmate_lang', lang);
}

// Event Listeners
if (headerSelect) headerSelect.addEventListener('change', (e) => setLanguage(e.target.value));
if (footerSelect) footerSelect.addEventListener('change', (e) => setLanguage(e.target.value));

// Init
const savedLang = localStorage.getItem('arkmate_lang');
setLanguage(savedLang || currentLang);
