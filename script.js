const translations = {
    en: {
        features: "Features",
        installation: "Installation",
        contact: "Contact",
        hero_title: "Rediscover Your<br>TV Experience.",
        hero_desc: "The fastest IPTV player for macOS. Supports Intel & Apple Silicon. Live TV, Movies, Series, and more.",
        download_btn: "Download",
        learn_more: "Learn More",
        features_title: "Why Arkmate TV?",
        features_subtitle: "Universal support for all Mac computers.",
        feat_1_title: "Live TV & EPG",
        feat_1_desc: "Seamless streaming with detailed electronic program guide. Intel & Silicon optimized.",
        feat_2_title: "Movies & Series",
        feat_2_desc: "Advanced filtering, favorites, and 'Continue Watching' feature for your library.",
        feat_3_title: "High Performance",
        feat_3_desc: "Native performance on macOS 12.0 and later with 4K support.",
        feat_4_title: "Modern Interface",
        feat_4_desc: "A sleek, professional design tailored for the macOS ecosystem.",
        compat_os_title: "Minimum Requirements",
        compat_os_desc: "macOS 12.0 (Monterey) or later",
        compat_proc_title: "Architecture Support",
        compat_proc_desc: "Intel & Apple Silicon (M1/M2/M3) Optimized",
        install_title: "Installation Guide",
        install_warning: "⚠️ Tip: Use our built-in fix tool to skip manual security prompts.",
        step_1_title: "Download Installer",
        step_1_desc: "Download the .dmg disk image to your Mac computer.",
        step_2_title: "Install App",
        step_2_desc: "Open the dmg and drag 'Arkmate TV' to your Applications folder.",
        step_3_title: "Run Security Fix",
        step_3_desc: "Run 'Fix_Security_And_Run' from the dmg to automatically bypass Gatekeeper.",
        contact_title: "Support & Contact",
        contact_desc: "Compatible with Intel and Apple Silicon (macOS 12+)."
    },
    tr: {
        features: "Özellikler",
        installation: "Kurulum",
        contact: "İletişim",
        hero_title: "Televizyon Deneyimini<br>Yeniden Keşfedin.",
        hero_desc: "macOS için tasarlanmış en hızlı IPTV oynatıcısı. Intel ve Apple Silicon desteği. Canlı TV, Filmler, Diziler.",
        download_btn: "İndir",
        learn_more: "Daha Fazla",
        features_title: "Neden Arkmate TV?",
        features_subtitle: "Tüm Mac bilgisayarlar için evrensel destek.",
        feat_1_title: "Canlı TV & EPG",
        feat_1_desc: "Kesintisiz yayın ve detaylı EPG. Intel ve Silicon işlemcilerle tam uyumlu.",
        feat_2_title: "Film & Dizi Arşivi",
        feat_2_desc: "Gelişmiş filtreleme, favoriler ve 'İzlemeye Devam Et' özellikleri.",
        feat_3_title: "Yüksek Performans",
        feat_3_desc: "macOS 12.0 ve üzeri için 4K destekli yerel performans.",
        feat_4_title: "Modern Arayüz",
        feat_4_desc: "macOS ekosistemi için tasarlanmış şık ve profesyonel arayüz.",
        compat_os_title: "Minimum Gereksinimler",
        compat_os_desc: "macOS 12.0 (Monterey) veya üzeri",
        compat_proc_title: "İşlemci Desteği",
        compat_proc_desc: "Intel & Apple Silicon (M1/M2/M3) Optimize Edilmiştir",
        install_title: "Kurulum Talimatları",
        install_warning: "⚠️ İpucu: Güvenlik uyarılarını aşmak için hazırladığımız aracı kullanın.",
        step_1_title: "Yükleyiciyi İndirin",
        step_1_desc: ".dmg uzantılı disk kalıbını bilgisayarınıza indirin.",
        step_2_title: "Uygulamayı Kurun",
        step_2_desc: "DMG dosyasını açın ve 'Arkmate TV'yi Uygulamalar klasörüne sürükleyin.",
        step_3_title: "Güvenlik Aracını Çalıştırın",
        step_3_desc: "DMG içindeki 'Fix_Security_And_Run' aracını çalıştırarak izinleri otomatik verin.",
        contact_title: "Destek & İletişim",
        contact_desc: "Intel ve Apple Silicon uyumlu (macOS 12+)."
    },
    de: {
        features: "Funktionen",
        installation: "Installation",
        contact: "Kontakt",
        hero_title: "Entdecken Sie Ihr<br>TV-Erlebnis neu.",
        hero_desc: "Der schnellste IPTV-Player für macOS. Unterstützt Intel & Apple Silicon. Live-TV, Filme, Serien.",
        download_btn: "Herunterladen",
        learn_more: "Mehr erfahren",
        features_title: "Warum Arkmate TV?",
        features_subtitle: "Universelle Unterstützung für alle Mac-Computer.",
        feat_1_title: "Live TV & EPG",
        feat_1_desc: "Nahtloses Streaming mit detailliertem EPG. Optimiert für Intel & Silicon.",
        feat_2_title: "Filme & Serien",
        feat_2_desc: "Erweiterte Filter, Favoriten und 'Weiterschauen' für Ihre Mediathek.",
        feat_3_title: "Hohe Leistung",
        feat_3_desc: "Native Performance auf macOS 12.0 und höher mit 4K-Unterstützung.",
        feat_4_title: "Moderne Oberfläche",
        feat_4_desc: "Ein elegantes, professionelles Design für das macOS-Ökosystem.",
        compat_os_title: "Mindestanforderungen",
        compat_os_desc: "macOS 12.0 (Monterey) oder höher",
        compat_proc_title: "Architektur-Unterstützung",
        compat_proc_desc: "Optimiert für Intel & Apple Silicon (M1/M2/M3)",
        install_title: "Installationsanleitung",
        install_warning: "⚠️ Tipp: Nutzen Sie unser Fix-Tool, um Sicherheitsabfragen zu überspringen.",
        step_1_title: "Installer herunterladen",
        step_1_desc: "Laden Sie das .dmg-Disk-Image auf Ihren Mac herunter.",
        step_2_title: "App installieren",
        step_2_desc: "Öffnen Sie die dmg und ziehen Sie 'Arkmate TV' in Ihren Programme-Ordner.",
        step_3_title: "Sicherheits-Fix ausführen",
        step_3_desc: "Führen Sie 'Fix_Security_And_Run' aus der dmg aus, um Gatekeeper automatisch zu umgehen.",
        contact_title: "Support & Kontakt",
        contact_desc: "Kompatibel mit Intel und Apple Silicon (macOS 12+)."
    },
    fr: {
        features: "Fonctionnalités",
        installation: "Installation",
        contact: "Contact",
        hero_title: "Redécouvrez votre<br>expérience TV.",
        hero_desc: "Le lecteur IPTV le plus rapide pour macOS. Supporte Intel & Apple Silicon. TV en direct, films, séries.",
        download_btn: "Télécharger",
        learn_more: "En savoir plus",
        features_title: "Pourquoi Arkmate TV ?",
        features_subtitle: "Support universel pour tous les ordinateurs Mac.",
        feat_1_title: "TV en direct & EPG",
        feat_1_desc: "Streaming fluide avec guide électronique. Optimisé pour Intel & Silicon.",
        feat_2_title: "Films & Séries",
        feat_2_desc: "Filtres avancés, favoris et fonction 'Reprendre' pour votre bibliothèque.",
        feat_3_title: "Haute Performance",
        feat_3_desc: "Performance native sur macOS 12.0+ avec support 4K.",
        feat_4_title: "Interface Moderne",
        feat_4_desc: "Un design élégant et professionnel adapté à l'écosystème macOS.",
        compat_os_title: "Configuration Minimale",
        compat_os_desc: "macOS 12.0 (Monterey) ou ultérieur",
        compat_proc_title: "Support Architecture",
        compat_proc_desc: "Optimisé pour Intel & Apple Silicon (M1/M2/M3)",
        install_title: "Guide d'installation",
        install_warning: "⚠️ Conseil : Utilisez notre outil de correction pour ignorer les alertes.",
        step_1_title: "Télécharger l'installeur",
        step_1_desc: "Téléchargez l'image disque .dmg sur votre Mac.",
        step_2_title: "Installer l'app",
        step_2_desc: "Ouvrez le dmg et faites glisser 'Arkmate TV' vers votre dossier Applications.",
        step_3_title: "Correctif de sécurité",
        step_3_desc: "Lancez 'Fix_Security_And_Run' depuis le dmg pour contourner Gatekeeper.",
        contact_title: "Support & Contact",
        contact_desc: "Compatible avec Intel et Apple Silicon (macOS 12+)."
    },
    it: {
        features: "Funzionalità",
        installation: "Installazione",
        contact: "Contatti",
        hero_title: "Riscopri la tua<br>Esperienza TV.",
        hero_desc: "Il lettore IPTV più veloce per macOS. Supporta Intel e Apple Silicon. TV live, film, serie.",
        download_btn: "Scarica",
        learn_more: "Scopri di più",
        features_title: "Perché Arkmate TV?",
        features_subtitle: "Supporto universale per tutti i computer Mac.",
        feat_1_title: "Live TV & EPG",
        feat_1_desc: "Streaming fluido con EPG dettagliato. Ottimizzato per Intel & Silicon.",
        feat_2_title: "Film & Serie",
        feat_2_desc: "Filtri avanzati, preferiti e funzione 'Continua a guardare' per la tua libreria.",
        feat_3_title: "Alte Prestazioni",
        feat_3_desc: "Prestazioni native su macOS 12.0 e versioni successive con supporto 4K.",
        feat_4_title: "Interfaccia Moderna",
        feat_4_desc: "Un design elegante e professionale su misura per macOS.",
        compat_os_title: "Requisiti Minimi",
        compat_os_desc: "macOS 12.0 (Monterey) o successivo",
        compat_proc_title: "Supporto Architettura",
        compat_proc_desc: "Ottimizzato per Intel & Apple Silicon (M1/M2/M3)",
        install_title: "Guida all'installazione",
        install_warning: "⚠️ Suggerimento: Usa il nostro tool per saltare i prompt di sicurezza.",
        step_1_title: "Scarica l'installer",
        step_1_desc: "Scarica l'immagine disco .dmg sul tuo Mac.",
        step_2_title: "Installa l'app",
        step_2_desc: "Apri il dmg e trascina 'Arkmate TV' nella cartella Applicazioni.",
        step_3_title: "Fix di sicurezza",
        step_3_desc: "Esegui 'Fix_Security_And_Run' dal dmg per bypassare automaticamente Gatekeeper.",
        contact_title: "Supporto & Contatti",
        contact_desc: "Compatibile con Intel e Apple Silicon (macOS 12+)."
    },
    pt: {
        features: "Recursos",
        installation: "Instalação",
        contact: "Contato",
        hero_title: "Redescubra sua<br>Experiência de TV.",
        hero_desc: "O reprodutor IPTV mais rápido para macOS. Suporta Intel e Apple Silicon. TV ao vivo, filmes, séries.",
        download_btn: "Baixar",
        learn_more: "Saiba Mais",
        features_title: "Por que Arkmate TV?",
        features_subtitle: "Suporte universal para todos os computadores Mac.",
        feat_1_title: "TV ao Vivo & EPG",
        feat_1_desc: "Streaming fluido com EPG detalhado. Otimizado para Intel & Silicon.",
        feat_2_title: "Filmes & Séries",
        feat_2_desc: "Filtros avanzadas, favoritos e função 'Continuar Assistindo' para sua biblioteca.",
        feat_3_title: "Alta Performance",
        feat_3_desc: "Desempenho nativo no macOS 12.0 e posterior com suporte 4K.",
        feat_4_title: "Interface Moderna",
        feat_4_desc: "Um design elegante e profissional feito sob medida para o macOS.",
        compat_os_title: "Requisitos Mínimos",
        compat_os_desc: "macOS 12.0 (Monterey) ou posterior",
        compat_proc_title: "Suporte de Arquitetura",
        compat_proc_desc: "Otimizado para Intel e Apple Silicon (M1/M2/M3)",
        install_title: "Guia de Instalação",
        install_warning: "⚠️ Dica: Use nossa ferramenta de correção para pular avisos de segurança.",
        step_1_title: "Baixar Instalador",
        step_1_desc: "Baixe a imagem de disco .dmg para o seu Mac.",
        step_2_title: "Instalar App",
        step_2_desc: "Abra o dmg e arraste 'Arkmate TV' para a sua pasta de Aplicações.",
        step_3_title: "Correção de Segurança",
        step_3_desc: "Execute 'Fix_Security_And_Run' do dmg para ignorar o Gatekeeper automaticamente.",
        contact_title: "Suporte & Contato",
        contact_desc: "Compatível com Intel e Apple Silicon (macOS 12+)."
    },
    ar: {
        features: "المميزات",
        installation: "التثبيت",
        contact: "اتصل بنا",
        hero_title: "أعد اكتشاف<br>تجربة التلفزيون.",
        hero_desc: "أسرع مشغل IPTV لنظام macOS. يدعم معالجات Intel و Apple Silicon. قنوات مباشرة، أفلام، مسلسلات.",
        download_btn: "تحميل",
        learn_more: "المزيد",
        features_title: "لماذا Arkmate TV؟",
        features_subtitle: "دعم عالمي لجميع أجهزة كمبيوتر Mac.",
        feat_1_title: "بث مباشر & EPG",
        feat_1_desc: "بث سلس مع دليل برامج مفصل. محسن لمعالجات Intel و Silicon.",
        feat_2_title: "أفلام ومسلسلات",
        feat_2_desc: "تصفية متقدمة، مفضلة وميزة 'متابعة المشاهدة' لمكتبتك.",
        feat_3_title: "أداء عالي",
        feat_3_desc: "أداء أصلي على macOS 12.0 والأحدث مع دعم 4K.",
        feat_4_title: "واجهة حديثة",
        feat_4_desc: "تصميم أنيق واحترافي مصمم خصيصًا لنظام macOS.",
        compat_os_title: "الحد الأدنى للمتطلبات",
        compat_os_desc: "نظام macOS 12.0 (Monterey) أو أحدث",
        compat_proc_title: "دعم البنية",
        compat_proc_desc: "محسن لمعالجات Intel و Apple Silicon (M1/M2/M3)",
        install_title: "دليل التثبيت",
        install_warning: "⚠️ نصيحة: استخدم أداة الإصلاح الخاصة بنا لتخطي مطالبات الأمان.",
        step_1_title: "تحميل برنامج التثبيت",
        step_1_desc: "قم بتنزيل صورة القرص .dmg على جهاز Mac الخاص بك.",
        step_2_title: "تثبيت التطبيق",
        step_2_desc: "افتح ملف dmg واسحب 'Arkmate TV' إلى مجلد التطبيقات.",
        step_3_title: "إصلاح الأمان",
        step_3_desc: "قم بتشغيل 'Fix_Security_And_Run' من ملف dmg لتخطي Gatekeeper تلقائيًا.",
        contact_title: "الدعم والاتصال",
        contact_desc: "متوافق مع معالجات Intel و Apple Silicon (نظام macOS 12+)."
    }
};

// Language Detection & Handling
function detectLanguage() {
    const supported = ['en', 'tr', 'de', 'fr', 'it', 'pt', 'ar'];
    const userLang = navigator.language.slice(0, 2); // e.g. 'en-US' -> 'en'
    return supported.includes(userLang) ? userLang : 'en';
}

let currentLang = detectLanguage();

// Elements
const headerSelect = document.getElementById('header-lang-select');
const footerSelect = document.getElementById('footer-lang-select');

// Set Logic
function setLanguage(lang) {
    if (!translations[lang]) return;
    currentLang = lang;

    // Update Dropdowns
    if (headerSelect) headerSelect.value = lang;
    if (footerSelect) footerSelect.value = lang;

    // RTL Handling for Arabic
    if (lang === 'ar') {
        document.body.setAttribute('dir', 'rtl');
    } else {
        document.body.setAttribute('dir', 'ltr');
    }

    // Update Text
    document.querySelectorAll('[data-i18n]').forEach(el => {
        const key = el.getAttribute('data-i18n');
        if (translations[lang][key]) {
            el.innerHTML = translations[lang][key];
        }
    });

    // Update Hero Image
    const heroImg = document.getElementById('hero-app-img');
    if (heroImg) {
        heroImg.src = `images/hero_${lang}.png`;
    }

    // Save preference (optional, good UX)
    localStorage.setItem('arkmate_lang', lang);
}

// Event Listeners
if (headerSelect) headerSelect.addEventListener('change', (e) => setLanguage(e.target.value));
if (footerSelect) footerSelect.addEventListener('change', (e) => setLanguage(e.target.value));

// Init
const savedLang = localStorage.getItem('arkmate_lang');
setLanguage(savedLang || currentLang);
